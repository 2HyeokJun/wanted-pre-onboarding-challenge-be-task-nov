## 3. 웹 브라우저에 `네이버` 를 검색하고 화면에 네이버 화면이 출력이 될 때 까지 내부적으로 어떤 동작들이 수행이 되는지 설명해주세요.

E:

0. 사용자가 웹 브라우저의 주소창에 `www.naver.com`을 입력합니다.
<br>1. DNS 조회 (Domain Name System Resolution): 웹 브라우저는 입력된 도메인 이름 `www.naver.com`을 IP 주소로 변환하기 위해 DNS 서버에 요청을 보냅니다. 
    (1) 먼저, 로컬 DNS 캐시에서 해당 IP주소를 찾습니다. 
    (2) 이 캐시에 해당 정보가 없거나 만료되었을 경우, 외부 DNS서버로 요청을 보냅니다. 이 루트 DNS 서버는 모든 DNS 계층 구조 정보를 가지고 있습니다.
    (3) TLD(Top-Level Domain) DNS 서버 질의: 루트 DNS 서버는 도메인의 최상위 도메인(TLD) 정보(예: .com, .org, .net 등)를 포함한 TLD DNS 서버의 주소를 반환합니다. 로컬 DNS 서버는 해당 TLD DNS 서버에 질의를 보냅니다.
    (4) 도메인 소유자의 DNS 서버 질의: TLD DNS 서버는 도메인의 소유자가 지정한 DNS 서버(네임서버)의 주소를 반환합니다. 로컬 DNS 서버는 이 네임서버에 질의를 보내서 최종적으로 도메인 이름과 관련된 IP 주소를 받아옵니다.
    (5) 로컬 DNS 캐시 업데이트: 받아온 IP 주소를 로컬 DNS 캐시에 저장하여 나중에 동일한 도메인에 대한 질의가 있을 때 더 빠르게 응답할 수 있도록 합니다. 이로써 같은 도메인에 대한 추가적인 DNS 질의는 로컬 DNS 캐시에서 처리됩니다.

<br>2. TCP 연결 설정 (TCP Connection Establishment):
웹 브라우저는 DNS 조회를 통해 얻은 Google의 서버 IP 주소로 TCP 연결을 설정합니다. 
    (1) 클라이언트가 서버에게 연결 요청 (SYN): 클라이언트가 서버에 TCP 연결을 요청하기 위해 SYN(Synchronize) 패킷을 보냅니다. SYN 패킷은 초기 시퀀스 번호(Initial Sequence Number, ISN)를 포함하고, 클라이언트가 서버와 통신을 시작하고자 하는 의도를 나타냅니다.
    (2) 서버가 클라이언트에게 수락 응답과 자신의 요청 (SYN-ACK): 서버는 클라이언트의 SYN 패킷을 받으면, 클라이언트의 요청을 수락하고 자신의 통신을 위한 초기 시퀀스 번호를 할당한 뒤, SYN-ACK(Synchronize-Acknowledge) 패킷을 클라이언트에게 보냅니다. SYN-ACK 패킷은 클라이언트의 요청을 수락함과 동시에 서버의 의도를 나타내며, 클라이언트에게 ACK(확인 응답)를 기대하고 있음을 나타냅니다.
    (3) 클라이언트가 서버에게 연결 수락 응답 (ACK): 클라이언트는 서버의 SYN-ACK 패킷을 받으면, 서버의 요청을 수락한 것임을 나타내는 ACK 패킷을 서버에게 보냅니다. 이로써 3-way 핸드셰이크가 완료되고, 클라이언트와 서버 간에 안전한 TCP 연결이 설정됩니다.
이를 3-way handshake라고 합니다. 이렇게 TCP 연결이 설정되면, 클라이언트와 서버는 데이터를 안전하게 교환할 수 있습니다. 이 과정은 신뢰성 있는 데이터 전송을 보장하기 위해 중요한 역할을 합니다.
    <br>추가로, 통신이 완료되면 4-way handshaker를 통해 안전하게 연결이 종료됩니다. 해당 과정은 다음과 같습니다:
    (1) 클라이언트가 서버에게 연결 종료 요청 (FIN): 클라이언트는 더 이상 데이터를 전송할 필요가 없을 때, 서버에게 연결을 종료하고자 FIN 패킷을 보냅니다. 이로써 클라이언트는 데이터 전송이 끝났음을 서버에게 알리게 됩니다.
    (2) 서버가 클라이언트에게 확인 응답 (ACK): 서버는 클라이언트의 FIN 패킷을 받으면, 해당 패킷을 확인(ACK)하고, 더 이상 데이터를 보낼 준비가 되었음을 알립니다. 서버는 아직 클라이언트에게 보낼 데이터가 남아있는 경우, 이 시점에서 데이터를 계속 전송할 수 있습니다.
    (3) 서버가 클라이언트에게 연결 종료 요청 (FIN): 서버가 데이터 전송이 완료되고 연결을 종료하고자 할 때, 서버는 클라이언트에게 FIN 패킷을 보냅니다. 이로써 서버는 클라이언트에게 연결 종료 의사를 표시합니다.
    (4) 클라이언트가 서버에게 확인 응답 (ACK): 클라이언트는 서버의 FIN 패킷을 받으면 이를 확인(ACK)하고, 연결 종료를 수락함을 나타냅니다. 이후에는 클라이언트와 서버 간의 TCP 연결이 완전히 종료됩니다.
이렇게 TCP 연결을 안전하게 종료하여 데이터 전송 중에 있을 수 있는 데이터 손실을 방지하고, 연결 상태를 깔끔하게 정리하여 리소스를 효과적으로 확보할 수 있습니다.

<br>3. HTTP 요청 전송 (HTTP Request Transmission): TCP 연결이 설정된 후, 웹 브라우저는 HTTP 프로토콜을 사용하여 naver 서버에 HTTP 요청을 전송합니다. 이 요청은 주로 GET 메서드를 사용하며, 요청 헤더에는 브라우저 정보, 사용자 세션 등의 정보가 포함될 수 있습니다.
<br>4. 서버에서의 처리 (Server-side Processing): naver 서버는 수신된 HTTP 요청을 처리하고, 요청된 페이지 또는 리소스를 찾아서 응답합니다. naver의 서버는 요청에 맞는 HTML 페이지를 생성하여 응답할 것입니다.
<br>5. HTTP 응답 수신 (HTTP Response Reception): 웹 브라우저는 Google 서버로부터 받은 HTTP 응답을 받아서 처리합니다. 이 응답에는 HTML 문서 및 관련 리소스 (이미지, 스크립트, 스타일시트 등)가 포함될 수 있습니다.
<br>6. HTML 페이지 렌더링 (HTML Page Rendering): 웹 브라우저는 받은 HTML 문서를 파싱하고, 렌더링 엔진을 사용하여 웹 페이지를 화면에 표시합니다. HTML 문서 안에는 네이버 홈페이지로 리디렉션하는 코드 또는 링크가 포함되어 있을 경우, 웹 브라우저는 해당 링크로 이동하여 네이버 화면을 표시할 것입니다.
<br>7. 페이지 로딩 및 완료: 모든 리소스가 로딩되면 웹 페이지가 완전히 로드되었다고 판단되고, 웹 브라우저는 페이지 로딩이 완료되었다는 이벤트를 발생시킵니다.